#!/usr/bin/env bash

# Logger
lpm_logger () {
    logger -t legion-power-management -s "$1"
}

# Governor
set_governor () {
    case $1 in
        performance|powersave)
            for GOVERNOR in $(ls /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor); do
                echo "$1" > ${GOVERNOR}
            done
            ;;
        *)
            lpm_logger "Error in [scaling_governor] configuration!"
            ;;
    esac
}

set_governor $1
